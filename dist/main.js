(()=>{"use strict";function e(e){document.querySelector(e).classList.add("popup_is-opened")}function t(e,t){document.removeEventListener(e,t)}function n(e,t){document.querySelector(e).classList.remove(t)}function o(){y.value=L.textContent,k.value=g.textContent}function c(){document.addEventListener("click",r)}function r(e){var n=e.target;n.classList.contains("popup__close")&&(n.closest(".popup").classList.remove("popup_is-opened"),t("click",r),t("keydown",s),o(),m())}function s(e){"Escape"===e.key&&(document.querySelector(".popup_is-opened").classList.remove("popup_is-opened"),t("keydown",s),o(),m())}function i(e){e.target.classList.contains("popup")&&(document.querySelector(".popup_is-opened").classList.remove("popup_is-opened"),t("click",i),t("keydown",s),o(),m())}function a(){document.addEventListener("click",i)}function p(){document.addEventListener("keydown",s)}function u(e,t,n,o){var c=_.querySelector(".card").cloneNode(!0);c.querySelector(".card__title").textContent=e.name;var r=c.querySelector(".card__image");return r.setAttribute("src",e.link),r.setAttribute("alt",e.name),c.querySelector(".card__delete-button").addEventListener("click",(function(){t(c)})),c}function d(e){e.remove()}function l(e,t){e.prepend(t)}function m(){S.value="",b.value=""}var _=document.querySelector("#card-template").content,v=document.querySelector(".places__list"),f=document.forms["edit-profile"],y=f.elements.name,k=f.elements.description,L=document.querySelector(".profile__title"),g=document.querySelector(".profile__description"),q=document.forms["new-place"],S=q.elements["place-name"],b=q.elements.link,E=document.querySelector(".page__content"),h=document.querySelectorAll(".popup");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=u(e,d);l(v,t)})),h.forEach((function(e){e.classList.add("popup_is-animated")})),f.addEventListener("submit",(function(e){e.preventDefault(),L.textContent=y.value,g.textContent=k.value,n(".popup_type_edit","popup_is-opened")})),q.addEventListener("submit",(function(e){e.preventDefault();var t=u({name:S.value,link:b.value},d);l(v,t),n(".popup_type_new-card","popup_is-opened"),m()})),o(),E.querySelector(".profile__edit-button").addEventListener("click",(function(t){e(".popup_type_edit"),a(),c(),p()})),E.querySelector(".profile__add-button").addEventListener("click",(function(t){e(".popup_type_new-card"),a(),c(),p()})),E.querySelector(".places__list").addEventListener("click",(function(t){t.target.classList.contains("card__image")&&(function(e){var t=e.target.getAttribute("src");document.querySelector(".popup__image").setAttribute("src",t)}(t),e(".popup_type_image"),a(),c(),p()),t.target.classList.contains("card__like-button")&&function(e){e.target.classList.contains("card__like-button_is-active")?e.target.classList.remove("card__like-button_is-active"):e.target.classList.add("card__like-button_is-active")}(t)}))})();